"use strict";(globalThis.webpackChunkmy_textbook=globalThis.webpackChunkmy_textbook||[]).push([[831],{6616:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"part-iv/ros2","title":"ROS 2 - Robot Operating System","description":"Understanding ROS 2 framework for developing Physical AI systems","source":"@site/docs/part-iv/ros2.mdx","sourceDirName":"part-iv","slug":"/part-iv/ros2","permalink":"/Physical-AI-Robotics/docs/part-iv/ros2","draft":false,"unlisted":false,"editUrl":"https://github.com/physical-ai/my-textbook/tree/main/docs/part-iv/ros2.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"ROS 2 - Robot Operating System","sidebar_position":1,"description":"Understanding ROS 2 framework for developing Physical AI systems"},"sidebar":"textbookSidebar","previous":{"title":"Natural Language for Humanoids","permalink":"/Physical-AI-Robotics/docs/part-iii/natural-language-for-humanoids"},"next":{"title":"Applications of Physical AI","permalink":"/Physical-AI-Robotics/docs/part-v/applications"}}');var t=n(4848),r=n(8453);const o={title:"ROS 2 - Robot Operating System",sidebar_position:1,description:"Understanding ROS 2 framework for developing Physical AI systems"},a="ROS 2 - Robot Operating System",l={},c=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Introduction to ROS 2",id:"introduction-to-ros-2",level:2},{value:"Key Concepts in ROS 2",id:"key-concepts-in-ros-2",level:2},{value:"Nodes",id:"nodes",level:3},{value:"Packages",id:"packages",level:3},{value:"Topics and Messages",id:"topics-and-messages",level:3},{value:"Services",id:"services",level:3},{value:"Actions",id:"actions",level:3},{value:"ROS 2 Architecture",id:"ros-2-architecture",level:2},{value:"Client Libraries",id:"client-libraries",level:3},{value:"Middleware and DDS",id:"middleware-and-dds",level:3},{value:"Quality of Service (QoS) Settings",id:"quality-of-service-qos-settings",level:3},{value:"Development Environment",id:"development-environment",level:2},{value:"Workspaces",id:"workspaces",level:3},{value:"Build System (colcon)",id:"build-system-colcon",level:3},{value:"Essential ROS 2 Tools",id:"essential-ros-2-tools",level:2},{value:"ros2 run and ros2 launch",id:"ros2-run-and-ros2-launch",level:3},{value:"ros2 topic",id:"ros2-topic",level:3},{value:"ros2 service",id:"ros2-service",level:3},{value:"rviz2",id:"rviz2",level:3},{value:"rqt",id:"rqt",level:3},{value:"ROS 2 in Physical AI Systems",id:"ros-2-in-physical-ai-systems",level:2},{value:"Multi-Robot Systems",id:"multi-robot-systems",level:3},{value:"Real-time Performance",id:"real-time-performance",level:3},{value:"Security",id:"security",level:3},{value:"Lifecycle Management",id:"lifecycle-management",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Package Structure",id:"package-structure",level:3},{value:"Communication Design",id:"communication-design",level:3},{value:"Testing and Debugging",id:"testing-and-debugging",level:3},{value:"Chapter Summary",id:"chapter-summary",level:2},{value:"Further Reading",id:"further-reading",level:2},{value:"Exercises",id:"exercises",level:2}];function d(e){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"ros-2---robot-operating-system",children:"ROS 2 - Robot Operating System"})}),"\n",(0,t.jsx)(i.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Understand the architecture and concepts of ROS 2"}),"\n",(0,t.jsx)(i.li,{children:"Learn how to create nodes, topics, services, and actions"}),"\n",(0,t.jsx)(i.li,{children:"Explore ROS 2 tools for debugging and visualization"}),"\n",(0,t.jsx)(i.li,{children:"Understand packages, workspaces, and the build system"}),"\n",(0,t.jsx)(i.li,{children:"Learn about ROS 2 middleware and Quality of Service (QoS) policies"}),"\n",(0,t.jsx)(i.li,{children:"Investigate the use of ROS 2 in Physical AI system development"}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"introduction-to-ros-2",children:"Introduction to ROS 2"}),"\n",(0,t.jsx)(i.p,{children:"ROS 2 (Robot Operating System 2) is a flexible framework for writing robot software. It's a collection of tools, libraries, and conventions that aim to simplify the task of creating complex and robust robot behavior across a wide variety of robot platforms. Unlike traditional operating systems, ROS 2 is middleware that provides services designed specifically for robotic applications."}),"\n",(0,t.jsx)(i.p,{children:"ROS 2 is the successor to the original Robot Operating System (ROS 1), addressing many of its predecessor's limitations, particularly in areas like security, real-time performance, and multi-robot systems."}),"\n",(0,t.jsx)(i.h2,{id:"key-concepts-in-ros-2",children:"Key Concepts in ROS 2"}),"\n",(0,t.jsx)(i.h3,{id:"nodes",children:"Nodes"}),"\n",(0,t.jsx)(i.p,{children:"A node is an executable that uses ROS 2 to communicate with other nodes. Nodes are typically written in C++ or Python, but bindings exist for other languages. Each node can subscribe to or publish data to different topics, provide or use services, and send or receive actions."}),"\n",(0,t.jsx)(i.h3,{id:"packages",children:"Packages"}),"\n",(0,t.jsx)(i.p,{children:"Packages are the software containers in ROS 2. Each package can contain libraries, executables, configuration files, and other resources needed to provide a specific functionality. A package may contain one or more nodes."}),"\n",(0,t.jsx)(i.h3,{id:"topics-and-messages",children:"Topics and Messages"}),"\n",(0,t.jsx)(i.p,{children:"Topics are communication channels through which nodes send and receive messages. Messages are data structures that are passed between nodes. Each message has a specific type with a defined field structure."}),"\n",(0,t.jsx)(i.h3,{id:"services",children:"Services"}),"\n",(0,t.jsx)(i.p,{children:"Services provide a request/response communication pattern. When a node calls a service, it sends a request and waits for a response. This is useful for operations that have a clear input/output relationship and are expected to complete relatively quickly."}),"\n",(0,t.jsx)(i.h3,{id:"actions",children:"Actions"}),"\n",(0,t.jsx)(i.p,{children:"Actions are similar to services but are designed for long-running tasks. They provide feedback during execution and can be preempted (canceled) before completion. Actions are ideal for goals that take a significant amount of time, like navigation or manipulation tasks."}),"\n",(0,t.jsx)(i.h2,{id:"ros-2-architecture",children:"ROS 2 Architecture"}),"\n",(0,t.jsx)(i.h3,{id:"client-libraries",children:"Client Libraries"}),"\n",(0,t.jsx)(i.p,{children:"ROS 2 provides client libraries that enable nodes written in different languages to communicate seamlessly. The most commonly used libraries are rclcpp for C++ and rclpy for Python."}),"\n",(0,t.jsx)(i.h3,{id:"middleware-and-dds",children:"Middleware and DDS"}),"\n",(0,t.jsx)(i.p,{children:"ROS 2 uses a middleware layer based on Data Distribution Service (DDS) to enable communication between nodes. DDS handles the underlying network communication, allowing nodes to communicate across different machines and platforms."}),"\n",(0,t.jsx)(i.h3,{id:"quality-of-service-qos-settings",children:"Quality of Service (QoS) Settings"}),"\n",(0,t.jsx)(i.p,{children:"QoS policies allow fine-tuning of the communication behavior between nodes. They include settings such as reliability (reliable vs. best-effort), durability (transient vs. volatile), and deadline constraints."}),"\n",(0,t.jsx)(i.h2,{id:"development-environment",children:"Development Environment"}),"\n",(0,t.jsx)(i.h3,{id:"workspaces",children:"Workspaces"}),"\n",(0,t.jsx)(i.p,{children:"ROS 2 uses workspaces to organize packages. A workspace is a directory that contains packages, build directories, and install directories. The standard structure follows the colcon build system."}),"\n",(0,t.jsx)(i.h3,{id:"build-system-colcon",children:"Build System (colcon)"}),"\n",(0,t.jsx)(i.p,{children:"Colcon is the ROS 2 build system that builds packages in the correct order based on their dependencies. It supports building packages in parallel for faster compilation."}),"\n",(0,t.jsx)(i.h2,{id:"essential-ros-2-tools",children:"Essential ROS 2 Tools"}),"\n",(0,t.jsx)(i.h3,{id:"ros2-run-and-ros2-launch",children:"ros2 run and ros2 launch"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"ros2 run"})," executes a single executable from a package"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"ros2 launch"})," starts multiple nodes simultaneously using launch files"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"ros2-topic",children:"ros2 topic"}),"\n",(0,t.jsx)(i.p,{children:"This command allows inspection and interaction with topics:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"ros2 topic list"}),": List active topics"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"ros2 topic echo"}),": Print messages published to a topic"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"ros2 topic pub"}),": Publish messages to a topic"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"ros2-service",children:"ros2 service"}),"\n",(0,t.jsx)(i.p,{children:"This command interacts with services:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"ros2 service list"}),": List active services"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"ros2 service call"}),": Call a service with specified parameters"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"rviz2",children:"rviz2"}),"\n",(0,t.jsx)(i.p,{children:"RViz2 is the 3D visualization tool for ROS 2. It can display sensor data, robot models, paths, and other information in a 3D environment."}),"\n",(0,t.jsx)(i.h3,{id:"rqt",children:"rqt"}),"\n",(0,t.jsx)(i.p,{children:"RQt is a GUI framework for ROS 2 that provides various plugins for visualizing data, monitoring performance, and debugging nodes."}),"\n",(0,t.jsx)(i.h2,{id:"ros-2-in-physical-ai-systems",children:"ROS 2 in Physical AI Systems"}),"\n",(0,t.jsx)(i.h3,{id:"multi-robot-systems",children:"Multi-Robot Systems"}),"\n",(0,t.jsx)(i.p,{children:"ROS 2 is well-suited for multi-robot systems:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Each robot can run its own ROS 2 domain"}),"\n",(0,t.jsx)(i.li,{children:"Communication between robots can happen through various means (DDS, bridge nodes, etc.)"}),"\n",(0,t.jsx)(i.li,{children:"Coordination can be handled through distributed systems"}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"real-time-performance",children:"Real-time Performance"}),"\n",(0,t.jsx)(i.p,{children:"ROS 2 provides better real-time support than ROS 1:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Improved determinism in communication"}),"\n",(0,t.jsx)(i.li,{children:"Support for real-time operating systems"}),"\n",(0,t.jsx)(i.li,{children:"Configurable QoS settings for time-critical applications"}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"security",children:"Security"}),"\n",(0,t.jsx)(i.p,{children:"ROS 2 includes security features important for Physical AI:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Authentication of nodes"}),"\n",(0,t.jsx)(i.li,{children:"Encryption of communication"}),"\n",(0,t.jsx)(i.li,{children:"Authorization of network access"}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"lifecycle-management",children:"Lifecycle Management"}),"\n",(0,t.jsx)(i.p,{children:"ROS 2 provides tools for managing node lifecycles, allowing for more robust systems:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Nodes can transition between different states (unconfigured, inactive, active)"}),"\n",(0,t.jsx)(i.li,{children:"Supervisors can manage groups of nodes"}),"\n",(0,t.jsx)(i.li,{children:"Error recovery and restart capabilities"}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsx)(i.h3,{id:"package-structure",children:"Package Structure"}),"\n",(0,t.jsx)(i.p,{children:"Follow the standard ROS 2 package structure:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Use meaningful names for packages"}),"\n",(0,t.jsx)(i.li,{children:"Separate concerns into different packages"}),"\n",(0,t.jsx)(i.li,{children:"Use dependency management effectively"}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"communication-design",children:"Communication Design"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Use topics for data streams"}),"\n",(0,t.jsx)(i.li,{children:"Use services for request/response interactions"}),"\n",(0,t.jsx)(i.li,{children:"Use actions for long-running tasks with goals"}),"\n",(0,t.jsx)(i.li,{children:"Design custom message types for specific applications"}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"testing-and-debugging",children:"Testing and Debugging"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Write unit tests for nodes"}),"\n",(0,t.jsx)(i.li,{children:"Use launch files for integration testing"}),"\n",(0,t.jsx)(i.li,{children:"Implement logging at appropriate levels"}),"\n",(0,t.jsx)(i.li,{children:"Design for observability using ROS 2 tools"}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"chapter-summary",children:"Chapter Summary"}),"\n",(0,t.jsx)(i.p,{children:"This chapter introduced ROS 2, the Robot Operating System, which serves as the foundation for many Physical AI systems. We covered the key concepts, architecture, essential tools, and best practices for developing with ROS 2. The framework provides a standardized way to build complex robotic systems with multiple interconnected components, making it an essential tool for implementing Physical AI applications."}),"\n",(0,t.jsx)(i.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:'"Programming Robots with ROS" by Quigley et al.'}),"\n",(0,t.jsx)(i.li,{children:'"Effective Robot Programming with ROS2" by Crespo et al.'}),"\n",(0,t.jsx)(i.li,{children:"Official ROS 2 documentation and tutorials"}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"exercises",children:"Exercises"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:"Set up a ROS 2 workspace and create a simple publisher and subscriber pair."}),"\n",(0,t.jsx)(i.li,{children:"Implement a service that calculates the distance between two 3D points."}),"\n",(0,t.jsx)(i.li,{children:"Design a package structure for a humanoid robot's walking controller using ROS 2 concepts."}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>o,x:()=>a});var s=n(6540);const t={},r=s.createContext(t);function o(e){const i=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(r.Provider,{value:i},e.children)}}}]);